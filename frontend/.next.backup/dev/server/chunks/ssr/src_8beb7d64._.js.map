{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/CreateDatasetModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Upload, FileText, AlertCircle } from 'lucide-react';\n\ninterface CreateDatasetModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (data: DatasetFormData) => void;\n}\n\nexport interface DatasetFormData {\n  name: string;\n  type: 'NLU' | 'ASR' | 'TTS';\n  module: string;\n  description: string;\n  file: File | null;\n}\n\nexport default function CreateDatasetModal({\n  isOpen,\n  onClose,\n  onSubmit,\n}: CreateDatasetModalProps) {\n  const [formData, setFormData] = useState<DatasetFormData>({\n    name: '',\n    type: 'NLU',\n    module: 'food',\n    description: '',\n    file: null,\n  });\n  const [dragActive, setDragActive] = useState(false);\n  const [error, setError] = useState<string>('');\n\n  if (!isOpen) return null;\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    setError('');\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0];\n      if (\n        file.type === 'text/csv' ||\n        file.type === 'application/json' ||\n        file.name.endsWith('.csv') ||\n        file.name.endsWith('.json')\n      ) {\n        setFormData({ ...formData, file });\n      } else {\n        setError('Please upload a CSV or JSON file');\n      }\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setError('');\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      if (\n        file.type === 'text/csv' ||\n        file.type === 'application/json' ||\n        file.name.endsWith('.csv') ||\n        file.name.endsWith('.json')\n      ) {\n        setFormData({ ...formData, file });\n      } else {\n        setError('Please upload a CSV or JSON file');\n      }\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!formData.name.trim()) {\n      setError('Dataset name is required');\n      return;\n    }\n    if (!formData.file) {\n      setError('Please upload a dataset file');\n      return;\n    }\n    onSubmit(formData);\n    // Reset form\n    setFormData({\n      name: '',\n      type: 'NLU',\n      module: 'food',\n      description: '',\n      file: null,\n    });\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            Create New Dataset\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Error Message */}\n          {error && (\n            <div className=\"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700\">\n              <AlertCircle size={20} />\n              {error}\n            </div>\n          )}\n\n          {/* Dataset Name */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Dataset Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) =>\n                setFormData({ ...formData, name: e.target.value })\n              }\n              placeholder=\"e.g., Food NLU v3\"\n              className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-[#059211] focus:outline-none\"\n              required\n            />\n          </div>\n\n          {/* Type and Module */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Type *\n              </label>\n              <select\n                value={formData.type}\n                onChange={(e) =>\n                  setFormData({\n                    ...formData,\n                    type: e.target.value as 'NLU' | 'ASR' | 'TTS',\n                  })\n                }\n                className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-[#059211] focus:outline-none\"\n              >\n                <option value=\"NLU\">NLU (Intent Classification)</option>\n                <option value=\"ASR\">ASR (Speech Recognition)</option>\n                <option value=\"TTS\">TTS (Text-to-Speech)</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Module *\n              </label>\n              <select\n                value={formData.module}\n                onChange={(e) =>\n                  setFormData({ ...formData, module: e.target.value })\n                }\n                className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-[#059211] focus:outline-none\"\n              >\n                <option value=\"food\">Food</option>\n                <option value=\"ecom\">E-Commerce</option>\n                <option value=\"parcel\">Parcel Delivery</option>\n                <option value=\"ride\">Ride Booking</option>\n                <option value=\"health\">Health Services</option>\n                <option value=\"rooms\">Room Booking</option>\n                <option value=\"movies\">Movies</option>\n                <option value=\"services\">Services</option>\n                <option value=\"payment\">Payment</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) =>\n                setFormData({ ...formData, description: e.target.value })\n              }\n              placeholder=\"Brief description of this dataset...\"\n              rows={3}\n              className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-[#059211] focus:outline-none resize-none\"\n            />\n          </div>\n\n          {/* File Upload */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Upload Dataset File *\n            </label>\n            <div\n              onDragEnter={handleDrag}\n              onDragLeave={handleDrag}\n              onDragOver={handleDrag}\n              onDrop={handleDrop}\n              className={`border-2 border-dashed rounded-xl p-8 text-center transition-all ${\n                dragActive\n                  ? 'border-[#059211] bg-green-50'\n                  : 'border-gray-300 hover:border-gray-400'\n              }`}\n            >\n              {formData.file ? (\n                <div className=\"flex items-center justify-center gap-3\">\n                  <FileText className=\"text-[#059211]\" size={32} />\n                  <div className=\"text-left\">\n                    <div className=\"font-medium text-gray-900\">\n                      {formData.file.name}\n                    </div>\n                    <div className=\"text-sm text-gray-500\">\n                      {(formData.file.size / 1024).toFixed(2)} KB\n                    </div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setFormData({ ...formData, file: null })}\n                    className=\"ml-4 p-2 hover:bg-gray-100 rounded-lg\"\n                  >\n                    <X size={20} />\n                  </button>\n                </div>\n              ) : (\n                <>\n                  <Upload className=\"mx-auto text-gray-400 mb-4\" size={48} />\n                  <div className=\"text-gray-700 mb-2\">\n                    Drag and drop your file here, or{' '}\n                    <label className=\"text-[#059211] hover:text-[#047a0e] cursor-pointer font-medium\">\n                      browse\n                      <input\n                        type=\"file\"\n                        accept=\".csv,.json\"\n                        onChange={handleFileChange}\n                        className=\"hidden\"\n                      />\n                    </label>\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    Supported formats: CSV, JSON\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n\n          {/* Format Info */}\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 className=\"font-medium text-blue-900 mb-2\">\n              Expected File Format:\n            </h4>\n            <div className=\"text-sm text-blue-700 space-y-1\">\n              <p>\n                <strong>CSV:</strong> text, intent, entities (JSON string)\n              </p>\n              <p>\n                <strong>JSON:</strong> Array of {`{text, intent, entities}`}{' '}\n                objects\n              </p>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 px-6 py-3 bg-gradient-to-r from-[#059211] to-[#047a0e] hover:from-[#047a0e] hover:to-[#036809] text-white rounded-lg font-medium transition-all shadow-lg\"\n            >\n              Create Dataset\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAmBe,SAAS,mBAAmB,EACzC,MAAM,EACN,OAAO,EACP,QAAQ,EACgB;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAkB;QACxD,MAAM;QACN,MAAM;QACN,QAAQ;QACR,aAAa;QACb,MAAM;IACR;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS;IAE3C,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,EAAE,IAAI,KAAK,eAAe,EAAE,IAAI,KAAK,YAAY;YACnD,cAAc;QAChB,OAAO,IAAI,EAAE,IAAI,KAAK,aAAa;YACjC,cAAc;QAChB;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;QACd,SAAS;QAET,IAAI,EAAE,YAAY,CAAC,KAAK,IAAI,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE,EAAE;YACnD,MAAM,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;YACpC,IACE,KAAK,IAAI,KAAK,cACd,KAAK,IAAI,KAAK,sBACd,KAAK,IAAI,CAAC,QAAQ,CAAC,WACnB,KAAK,IAAI,CAAC,QAAQ,CAAC,UACnB;gBACA,YAAY;oBAAE,GAAG,QAAQ;oBAAE;gBAAK;YAClC,OAAO;gBACL,SAAS;YACX;QACF;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,SAAS;QACT,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACvC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YAC9B,IACE,KAAK,IAAI,KAAK,cACd,KAAK,IAAI,KAAK,sBACd,KAAK,IAAI,CAAC,QAAQ,CAAC,WACnB,KAAK,IAAI,CAAC,QAAQ,CAAC,UACnB;gBACA,YAAY;oBAAE,GAAG,QAAQ;oBAAE;gBAAK;YAClC,OAAO;gBACL,SAAS;YACX;QACF;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI;YACzB,SAAS;YACT;QACF;QACA,IAAI,CAAC,SAAS,IAAI,EAAE;YAClB,SAAS;YACT;QACF;QACA,SAAS;QACT,aAAa;QACb,YAAY;YACV,MAAM;YACN,MAAM;YACN,QAAQ;YACR,aAAa;YACb,MAAM;QACR;QACA;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCAGjD,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAKb,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;wBAErC,uBACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,mOAAW;oCAAC,MAAM;;;;;;gCAClB;;;;;;;sCAKL,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC;oCACC,MAAK;oCACL,OAAO,SAAS,IAAI;oCACpB,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAElD,aAAY;oCACZ,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAKZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,8OAAC;4CACC,OAAO,SAAS,IAAI;4CACpB,UAAU,CAAC,IACT,YAAY;oDACV,GAAG,QAAQ;oDACX,MAAM,EAAE,MAAM,CAAC,KAAK;gDACtB;4CAEF,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAM;;;;;;8DACpB,8OAAC;oDAAO,OAAM;8DAAM;;;;;;8DACpB,8OAAC;oDAAO,OAAM;8DAAM;;;;;;;;;;;;;;;;;;8CAGxB,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,8OAAC;4CACC,OAAO,SAAS,MAAM;4CACtB,UAAU,CAAC,IACT,YAAY;oDAAE,GAAG,QAAQ;oDAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAEpD,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,8OAAC;oDAAO,OAAM;8DAAQ;;;;;;8DACtB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,8OAAC;oDAAO,OAAM;8DAAW;;;;;;8DACzB,8OAAC;oDAAO,OAAM;8DAAU;;;;;;;;;;;;;;;;;;;;;;;;sCAM9B,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC;oCACC,OAAO,SAAS,WAAW;oCAC3B,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAEzD,aAAY;oCACZ,MAAM;oCACN,WAAU;;;;;;;;;;;;sCAKd,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC;oCACC,aAAa;oCACb,aAAa;oCACb,YAAY;oCACZ,QAAQ;oCACR,WAAW,CAAC,iEAAiE,EAC3E,aACI,iCACA,yCACJ;8CAED,SAAS,IAAI,iBACZ,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,0NAAQ;gDAAC,WAAU;gDAAiB,MAAM;;;;;;0DAC3C,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACZ,SAAS,IAAI,CAAC,IAAI;;;;;;kEAErB,8OAAC;wDAAI,WAAU;;4DACZ,CAAC,SAAS,IAAI,CAAC,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;4DAAG;;;;;;;;;;;;;0DAG5C,8OAAC;gDACC,MAAK;gDACL,SAAS,IAAM,YAAY;wDAAE,GAAG,QAAQ;wDAAE,MAAM;oDAAK;gDACrD,WAAU;0DAEV,cAAA,8OAAC,iMAAC;oDAAC,MAAM;;;;;;;;;;;;;;;;6DAIb;;0DACE,8OAAC,gNAAM;gDAAC,WAAU;gDAA6B,MAAM;;;;;;0DACrD,8OAAC;gDAAI,WAAU;;oDAAqB;oDACD;kEACjC,8OAAC;wDAAM,WAAU;;4DAAiE;0EAEhF,8OAAC;gEACC,MAAK;gEACL,QAAO;gEACP,UAAU;gEACV,WAAU;;;;;;;;;;;;;;;;;;0DAIhB,8OAAC;gDAAI,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;;sCAS/C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAiC;;;;;;8CAG/C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;8DAAO;;;;;;gDAAa;;;;;;;sDAEvB,8OAAC;;8DACC,8OAAC;8DAAO;;;;;;gDAAc;gDAAW,CAAC,wBAAwB,CAAC;gDAAE;gDAAI;;;;;;;;;;;;;;;;;;;sCAOvE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/api/admin-backend.ts"],"sourcesContent":["// API Client for Admin Backend (Port 8080)\n\nimport type {\n  Agent,\n  NLUClassification,\n  Dataset,\n  TrainingExample,\n  TrainingJob,\n  Model,\n  Flow,\n  Metrics,\n  AuditLog,\n} from '@/types/admin'\n\nconst ADMIN_BACKEND_URL = process.env.NEXT_PUBLIC_ADMIN_BACKEND_URL || 'http://localhost:8080'\n\ninterface CreateAgentData {\n  name: string\n  module: string\n  description?: string\n  systemPrompt?: string\n  capabilities?: string[]\n}\n\ntype UpdateAgentData = Partial<CreateAgentData>;\n\ninterface CreateDatasetData {\n  name: string\n  module: string\n  description?: string\n}\n\ninterface TrainingConfig {\n  datasetId: string\n  modelType?: string\n  epochs?: number\n  batchSize?: number\n  learningRate?: number\n}\n\ninterface CreateFlowData {\n  name: string\n  module: string\n  trigger: string\n  steps: unknown[]\n}\n\ninterface AuditLogFilters {\n  action?: string\n  module?: string\n  userId?: string\n  startDate?: string\n  endDate?: string\n}\n\ninterface AgentExecuteContext {\n  sessionId?: string\n  userId?: string\n  module?: string\n  [key: string]: unknown\n}\n\nclass AdminBackendClient {\n  private baseUrl: string\n\n  constructor() {\n    this.baseUrl = ADMIN_BACKEND_URL\n  }\n\n  private async request<T>(\n    endpoint: string,\n    options: RequestInit = {}\n  ): Promise<T> {\n    const url = `${this.baseUrl}${endpoint}`\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    }\n\n    const response = await fetch(url, {\n      ...options,\n      headers,\n    })\n\n    if (!response.ok) {\n      throw new Error(`API Error: ${response.statusText}`)\n    }\n\n    return response.json()\n  }\n\n  // NLU Classification\n  async classifyIntent(text: string, context?: Record<string, unknown>): Promise<NLUClassification> {\n    return this.request<NLUClassification>('/nlu/classify', {\n      method: 'POST',\n      body: JSON.stringify({ text, context }),\n    })\n  }\n\n  // Agent Management\n  async getAgents(): Promise<Agent[]> {\n    return this.request<Agent[]>('/agents')\n  }\n\n  async getAgent(id: string): Promise<Agent> {\n    return this.request<Agent>(`/agents/${id}`)\n  }\n\n  async createAgent(data: CreateAgentData): Promise<Agent> {\n    return this.request<Agent>('/agents', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async updateAgent(id: string, data: UpdateAgentData): Promise<Agent> {\n    return this.request<Agent>(`/agents/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async executeAgent(agentId: string, message: string, context: AgentExecuteContext): Promise<unknown> {\n    return this.request<unknown>('/agent-execute', {\n      method: 'POST',\n      body: JSON.stringify({ agentId, message, context }),\n    })\n  }\n\n  // Training\n  async getDatasets(): Promise<Dataset[]> {\n    return this.request<Dataset[]>('/training/datasets')\n  }\n\n  async createDataset(data: CreateDatasetData): Promise<Dataset> {\n    return this.request<Dataset>('/training/datasets', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async addExamples(datasetId: string, examples: TrainingExample[]): Promise<void> {\n    await this.request<void>(`/training/datasets/${datasetId}/examples/bulk`, {\n      method: 'POST',\n      body: JSON.stringify({ examples }),\n    })\n  }\n\n  async startTrainingJob(data: TrainingConfig): Promise<TrainingJob> {\n    return this.request<TrainingJob>('/training/jobs', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  async getTrainingJob(jobId: string): Promise<TrainingJob> {\n    return this.request<TrainingJob>(`/training/jobs/${jobId}`)\n  }\n\n  async getTrainingJobs(): Promise<TrainingJob[]> {\n    return this.request<TrainingJob[]>('/training/jobs')\n  }\n\n  async pauseTrainingJob(jobId: string): Promise<TrainingJob> {\n    return this.request<TrainingJob>(`/training/jobs/${jobId}/pause`, {\n      method: 'POST',\n    })\n  }\n\n  async stopTrainingJob(jobId: string): Promise<TrainingJob> {\n    return this.request<TrainingJob>(`/training/jobs/${jobId}/stop`, {\n      method: 'POST',\n    })\n  }\n\n  async getDataset(datasetId: string): Promise<Dataset> {\n    return this.request<Dataset>(`/training/datasets/${datasetId}`)\n  }\n\n  async getDatasetExamples(datasetId: string): Promise<TrainingExample[]> {\n    return this.request<TrainingExample[]>(`/training/datasets/${datasetId}/examples`)\n  }\n\n  async deleteDataset(datasetId: string): Promise<void> {\n    await this.request<void>(`/training/datasets/${datasetId}`, {\n      method: 'DELETE',\n    })\n  }\n\n  // Label Studio Integration\n  async pushToLabelStudio(datasetId: string): Promise<{ projectId: number; pushed: number }> {\n    return this.request<{ projectId: number; pushed: number }>(`/training/datasets/${datasetId}/push-labelstudio`, {\n      method: 'POST',\n    })\n  }\n\n  async pullFromLabelStudio(datasetId: string): Promise<{ imported: number }> {\n    return this.request<{ imported: number }>(`/training/datasets/${datasetId}/pull-labelstudio`, {\n      method: 'POST',\n    })\n  }\n\n  async testLabelStudioConnection(): Promise<{ ok: boolean; projectsCount?: number }> {\n    return this.request<{ ok: boolean; projectsCount?: number }>('/settings/labelstudio/test')\n  }\n\n  async uploadDataset(file: File, metadata: { name: string; type: string; module: string }): Promise<Dataset> {\n    const formData = new FormData()\n    formData.append('file', file)\n    formData.append('name', metadata.name)\n    formData.append('type', metadata.type)\n    formData.append('module', metadata.module)\n\n    const url = `${this.baseUrl}/training/datasets/upload`\n    const response = await fetch(url, {\n      method: 'POST',\n      body: formData,\n    })\n\n    if (!response.ok) {\n      throw new Error(`Upload failed: ${response.statusText}`)\n    }\n\n    return response.json()\n  }\n\n  // Models\n  async getModels(): Promise<Model[]> {\n    return this.request<Model[]>('/models')\n  }\n\n  async createModel(data: Partial<Model>): Promise<Model> {\n    return this.request<Model>('/models', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  // Flows\n  async getFlows(): Promise<Flow[]> {\n    return this.request<Flow[]>('/flows')\n  }\n\n  async createFlow(data: CreateFlowData): Promise<Flow> {\n    return this.request<Flow>('/flows', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n  }\n\n  // Metrics\n  async getMetrics(): Promise<Metrics> {\n    return this.request<Metrics>('/metrics')\n  }\n\n  // Audit Logs\n  async getAuditLogs(filters?: AuditLogFilters): Promise<AuditLog[]> {\n    const params = new URLSearchParams(filters as Record<string, string>)\n    return this.request<AuditLog[]>(`/audits?${params}`)\n  }\n}\n\nexport const adminBackendClient = new AdminBackendClient()\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useTrainingWebSocket.ts"],"sourcesContent":["import { useEffect, useRef, useState, useCallback } from 'react'\n\nexport interface TrainingJobUpdate {\n  type: 'training_update'\n  jobId: string\n  status: string\n  progress: number\n  message?: string\n  timestamp: number\n}\n\nexport interface JobCreatedEvent {\n  type: 'job_created'\n  job: {\n    id: string\n    kind: string\n    datasetId: string | null\n    agentId: string | null\n    status: string\n    progress: number\n    createdAt: Date | number\n    updatedAt: Date | number\n  }\n  timestamp: number\n}\n\nexport interface DatasetUpdateEvent {\n  type: 'dataset_update'\n  datasetId: string\n  action: 'created' | 'updated' | 'deleted'\n  timestamp: number\n}\n\ntype WebSocketEvent = TrainingJobUpdate | JobCreatedEvent | DatasetUpdateEvent | { type: 'connected' | 'pong'; timestamp: number }\n\nexport interface UseTrainingWebSocketOptions {\n  onJobUpdate?: (update: TrainingJobUpdate) => void\n  onJobCreated?: (event: JobCreatedEvent) => void\n  onDatasetUpdate?: (event: DatasetUpdateEvent) => void\n  onConnected?: () => void\n  onDisconnected?: () => void\n  onError?: (error: Event) => void\n}\n\nexport function useTrainingWebSocket(options: UseTrainingWebSocketOptions = {}) {\n  const [isConnected, setIsConnected] = useState(false)\n  const [reconnectAttempts, setReconnectAttempts] = useState(0)\n  const wsRef = useRef<WebSocket | null>(null)\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const pingIntervalRef = useRef<NodeJS.Timeout | null>(null)\n  const connectRef = useRef<(() => void) | null>(null)\n  const optionsRef = useRef(options)\n\n  // Keep options ref up to date\n  useEffect(() => {\n    optionsRef.current = options\n  }, [options])\n\n  const connect = useCallback(() => {\n    // Get WebSocket URL from environment or default\n    const backendUrl = process.env.NEXT_PUBLIC_ADMIN_BACKEND_URL || 'http://localhost:8080'\n    const wsUrl = backendUrl.replace(/^http/, 'ws') + '/ws/training'\n\n    console.log('[WebSocket] Connecting to:', wsUrl)\n\n    try {\n      const ws = new WebSocket(wsUrl)\n\n      ws.onopen = () => {\n        console.log('[WebSocket] Connected')\n        setIsConnected(true)\n        setReconnectAttempts(0)\n        optionsRef.current.onConnected?.()\n\n        // Start ping interval to keep connection alive\n        if (pingIntervalRef.current) {\n          clearInterval(pingIntervalRef.current)\n        }\n        pingIntervalRef.current = setInterval(() => {\n          if (ws.readyState === WebSocket.OPEN) {\n            ws.send(JSON.stringify({ type: 'ping' }))\n          }\n        }, 30000) // Ping every 30 seconds\n      }\n\n      ws.onmessage = (event) => {\n        try {\n          const data: WebSocketEvent = JSON.parse(event.data)\n          \n          console.log('[WebSocket] Received:', data.type)\n\n          switch (data.type) {\n            case 'connected':\n              console.log('[WebSocket] Server confirmed connection')\n              break\n            case 'training_update':\n              optionsRef.current.onJobUpdate?.(data as TrainingJobUpdate)\n              break\n            case 'job_created':\n              optionsRef.current.onJobCreated?.(data as JobCreatedEvent)\n              break\n            case 'dataset_update':\n              optionsRef.current.onDatasetUpdate?.(data as DatasetUpdateEvent)\n              break\n            case 'pong':\n              // Keepalive response\n              break\n            default:\n              console.log('[WebSocket] Unknown message type:', data)\n          }\n        } catch (error) {\n          console.error('[WebSocket] Failed to parse message:', error)\n        }\n      }\n\n      ws.onerror = (error) => {\n        console.error('[WebSocket] Error:', error)\n        optionsRef.current.onError?.(error)\n      }\n\n      ws.onclose = () => {\n        console.log('[WebSocket] Disconnected')\n        setIsConnected(false)\n        optionsRef.current.onDisconnected?.()\n\n        // Clear ping interval\n        if (pingIntervalRef.current) {\n          clearInterval(pingIntervalRef.current)\n          pingIntervalRef.current = null\n        }\n\n        // Attempt to reconnect with exponential backoff\n        const delay = Math.min(1000 * Math.pow(2, reconnectAttempts), 30000)\n        console.log(`[WebSocket] Reconnecting in ${delay}ms...`)\n        \n        reconnectTimeoutRef.current = setTimeout(() => {\n          setReconnectAttempts((prev) => prev + 1)\n          if (connectRef.current) {\n            connectRef.current()\n          }\n        }, delay)\n      }\n\n      wsRef.current = ws\n    } catch (error) {\n      console.error('[WebSocket] Connection error:', error)\n    }\n  }, [reconnectAttempts])\n\n  useEffect(() => {\n    connectRef.current = connect\n  }, [connect])\n\n  useEffect(() => {\n    connect()\n\n    return () => {\n      console.log('[WebSocket] Cleanup')\n      \n      // Clear reconnect timeout\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current)\n      }\n\n      // Clear ping interval\n      if (pingIntervalRef.current) {\n        clearInterval(pingIntervalRef.current)\n      }\n\n      // Close WebSocket connection\n      if (wsRef.current) {\n        wsRef.current.close()\n        wsRef.current = null\n      }\n    }\n  }, [connect])\n\n  return {\n    isConnected,\n    reconnectAttempts,\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 942, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/admin/training/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport Link from 'next/link';\nimport {\n  Database,\n  Play,\n  Pause,\n  CheckCircle,\n  XCircle,\n  Clock,\n  TrendingUp,\n  Plus,\n  Upload,\n  Download,\n  Eye,\n  Trash2,\n  Wifi,\n  WifiOff,\n  RefreshCw,\n} from 'lucide-react';\nimport CreateDatasetModal, {\n  DatasetFormData,\n} from '@/components/CreateDatasetModal';\nimport { adminBackendClient } from '@/lib/api/admin-backend';\nimport { useTrainingWebSocket, TrainingJobUpdate, JobCreatedEvent } from '@/hooks/useTrainingWebSocket';\n\ninterface Dataset {\n  id: string;\n  name: string;\n  type: 'nlu' | 'asr' | 'tts';\n  module: string;\n  examples: number;\n  created: string;\n  status: 'ready' | 'processing';\n}\n\ninterface TrainingJob {\n  id: string;\n  name: string;\n  dataset: string;\n  type: 'nlu-train' | 'asr-finetune' | 'tts-train';\n  status: 'queued' | 'training' | 'completed' | 'failed';\n  progress: number;\n  accuracy?: number;\n  loss?: number;\n  startTime?: string;\n  duration?: string;\n  epoch?: number;\n  totalEpochs?: number;\n}\n\nexport default function TrainingPage() {\n  const [activeTab, setActiveTab] = useState<'datasets' | 'jobs'>('datasets');\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [datasets, setDatasets] = useState<Dataset[]>([]);\n  const [jobs, setJobs] = useState<TrainingJob[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string>('');\n\n  // WebSocket connection for real-time updates\n  const { isConnected } = useTrainingWebSocket({\n    onJobUpdate: useCallback((update: TrainingJobUpdate) => {\n      console.log('[Training Page] Job update:', update);\n      setJobs((prevJobs) => \n        prevJobs.map((job) =>\n          job.id === update.jobId\n            ? { ...job, status: update.status as TrainingJob['status'], progress: update.progress }\n            : job\n        )\n      );\n    }, []),\n    \n    onJobCreated: useCallback((event: JobCreatedEvent) => {\n      console.log('[Training Page] New job created:', event.job);\n      const newJob: TrainingJob = {\n        id: event.job.id,\n        name: `Training Job ${event.job.id}`,\n        dataset: event.job.datasetId || '',\n        type: (event.job.kind === 'asr-train' ? 'asr-finetune' : event.job.kind) as TrainingJob['type'],\n        status: event.job.status as TrainingJob['status'],\n        progress: event.job.progress || 0,\n      };\n      setJobs((prevJobs) => [newJob, ...prevJobs]);\n    }, []),\n\n    onConnected: useCallback(() => {\n      console.log('[Training Page] WebSocket connected');\n    }, []),\n\n    onDisconnected: useCallback(() => {\n      console.log('[Training Page] WebSocket disconnected');\n    }, []),\n  });\n\n  // Fetch datasets and jobs on mount\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        setError('');\n        const [datasetsData, jobsData] = await Promise.all([\n          adminBackendClient.getDatasets(),\n          adminBackendClient.getTrainingJobs(),\n        ]);\n        \n        // Map API data to local format\n        const mappedDatasets: Dataset[] = datasetsData.map((d) => ({\n          id: d.id,\n          name: d.name,\n          type: d.type,\n          module: d.module || 'unknown',\n          examples: d.exampleCount || 0,\n          created: d.createdAt?.split('T')[0] || new Date().toISOString().split('T')[0],\n          status: 'ready',\n        }));\n\n        const mappedJobs: TrainingJob[] = jobsData.map((j) => ({\n          id: j.id,\n          name: `Training Job ${j.id}`,\n          dataset: j.dataset_id,\n          type: (j.type === 'asr-train' ? 'asr-finetune' : j.type) as 'nlu-train' | 'asr-finetune' | 'tts-train',\n          status: j.status,\n          progress: j.progress || 0,\n          accuracy: j.accuracy,\n          loss: j.loss,\n          startTime: j.createdAt,\n          epoch: j.epoch,\n          totalEpochs: 10, // Default value\n        }));\n\n        setDatasets(mappedDatasets);\n        setJobs(mappedJobs);\n      } catch (err) {\n        console.error('Failed to fetch training data:', err);\n        setError('Failed to load training data. Using sample data.');\n        // Fallback to sample data on error\n        loadSampleData();\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadData();\n  }, []);\n\n  const loadSampleData = () => {\n    // Sample data as fallback\n    setDatasets([\n      {\n        id: 'ds_food_v2',\n        name: 'Food NLU Dataset v2',\n        type: 'nlu',\n        module: 'food',\n        examples: 2450,\n        created: '2025-10-25',\n        status: 'ready',\n      },\n      {\n        id: 'ds_ecom_v1',\n        name: 'Ecom NLU Dataset v1',\n        type: 'nlu',\n        module: 'ecom',\n        examples: 1820,\n        created: '2025-10-24',\n        status: 'ready',\n      },\n      {\n        id: 'ds_parcel_v1',\n        name: 'Parcel NLU Dataset v1',\n        type: 'nlu',\n        module: 'parcel',\n        examples: 1350,\n        created: '2025-10-23',\n        status: 'ready',\n      },\n      {\n        id: 'ds_asr_hindi',\n        name: 'Hindi ASR Dataset',\n        type: 'asr',\n        module: 'global',\n        examples: 5600,\n        created: '2025-10-20',\n        status: 'ready',\n      },\n    ]);\n\n    setJobs([\n      {\n        id: 'job_001',\n        name: 'Food NLU v2 Training',\n        type: 'nlu-train',\n        status: 'training',\n        dataset: 'ds_food_v2',\n        progress: 0.65,\n        accuracy: 0.89,\n        loss: 0.234,\n        startTime: '10 minutes ago',\n        epoch: 7,\n        totalEpochs: 10,\n      },\n      {\n        id: 'job_002',\n        name: 'Ecom Product Classification',\n        type: 'nlu-train',\n        status: 'queued',\n        dataset: 'ds_ecom_v1',\n        progress: 0,\n        startTime: 'Not started',\n        totalEpochs: 15,\n      },\n      {\n        id: 'job_003',\n        name: 'Hindi ASR Model Training',\n        type: 'asr-finetune',\n        status: 'completed',\n        dataset: 'ds_asr_hindi',\n        progress: 1.0,\n        accuracy: 0.96,\n        loss: 0.089,\n        startTime: '2 hours ago',\n        duration: '45 minutes',\n        epoch: 20,\n        totalEpochs: 20,\n      },\n      {\n        id: 'job_004',\n        name: 'Parcel Intent Model',\n        type: 'nlu-train',\n        status: 'failed',\n        dataset: 'ds_parcel_v1',\n        progress: 0.45,\n        accuracy: 0.67,\n        loss: 0.543,\n        startTime: '1 day ago',\n        epoch: 5,\n        totalEpochs: 10,\n      },\n    ]);\n  };\n\n  const handleCreateDataset = async (data: DatasetFormData) => {\n    try {\n      if (data.file) {\n        const newDataset = await adminBackendClient.uploadDataset(data.file, {\n          name: data.name,\n          type: data.type.toLowerCase(),\n          module: data.module,\n        });\n        // Add default properties for display\n        const displayDataset: Dataset = {\n          id: newDataset.id,\n          name: newDataset.name,\n          type: newDataset.type as 'nlu' | 'asr' | 'tts',\n          module: data.module,\n          examples: 0,\n          created: new Date().toISOString().split('T')[0],\n          status: 'ready',\n        };\n        setDatasets([...datasets, displayDataset]);\n      }\n    } catch (err) {\n      console.error('Failed to create dataset:', err);\n      alert('Failed to create dataset. Please try again.');\n    }\n  };\n\n  const handleDeleteDataset = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this dataset?')) return;\n    \n    try {\n      await adminBackendClient.deleteDataset(id);\n      setDatasets(datasets.filter((d) => d.id !== id));\n    } catch (err) {\n      console.error('Failed to delete dataset:', err);\n      alert('Failed to delete dataset. Please try again.');\n    }\n  };\n\n  const handlePushToLabelStudio = async (datasetId: string) => {\n    try {\n      const dataset = datasets.find(d => d.id === datasetId);\n      if (!dataset) return;\n\n      if (!confirm(`Push \"${dataset.name}\" (${dataset.examples} examples) to Label Studio?`)) return;\n\n      const result = await adminBackendClient.pushToLabelStudio(datasetId);\n      alert(`✅ Successfully pushed ${result.pushed} examples to Label Studio!\\n\\nProject ID: ${result.projectId}`);\n    } catch (err) {\n      console.error('Failed to push to Label Studio:', err);\n      alert('❌ Failed to push to Label Studio. Make sure Label Studio is configured in settings.');\n    }\n  };\n\n  const handlePullFromLabelStudio = async (datasetId: string) => {\n    try {\n      const dataset = datasets.find(d => d.id === datasetId);\n      if (!dataset) return;\n\n      if (!confirm(`Pull annotations from Label Studio for \"${dataset.name}\"?`)) return;\n\n      const result = await adminBackendClient.pullFromLabelStudio(datasetId);\n      alert(`✅ Successfully imported ${result.imported} annotations from Label Studio!`);\n      \n      // Reload datasets to update example count\n      const updatedDatasets = await adminBackendClient.getDatasets();\n      const mappedDatasets: Dataset[] = updatedDatasets.map((d) => ({\n        id: d.id,\n        name: d.name,\n        type: d.type,\n        module: d.module || 'unknown',\n        examples: d.exampleCount || 0,\n        created: d.createdAt?.split('T')[0] || new Date().toISOString().split('T')[0],\n        status: 'ready',\n      }));\n      setDatasets(mappedDatasets);\n    } catch (err) {\n      console.error('Failed to pull from Label Studio:', err);\n      alert('❌ Failed to pull from Label Studio. Make sure Label Studio is configured in settings.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-gray-900 mb-2\">Loading...</div>\n          <div className=\"text-gray-600\">Fetching training data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed':\n      case 'ready':\n        return 'text-green-600 bg-green-100';\n      case 'training':\n      case 'processing':\n        return 'text-blue-600 bg-blue-100';\n      case 'queued':\n        return 'text-yellow-600 bg-yellow-100';\n      case 'failed':\n        return 'text-red-600 bg-red-100';\n      default:\n        return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'completed':\n      case 'ready':\n        return <CheckCircle size={16} />;\n      case 'training':\n      case 'processing':\n        return <Play size={16} />;\n      case 'queued':\n        return <Clock size={16} />;\n      case 'failed':\n        return <XCircle size={16} />;\n      default:\n        return <Clock size={16} />;\n    }\n  };\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case 'nlu':\n      case 'nlu-train':\n        return 'bg-purple-100 text-purple-700';\n      case 'asr':\n      case 'asr-finetune':\n        return 'bg-green-100 text-green-700';\n      case 'tts':\n      case 'tts-train':\n        return 'bg-orange-100 text-orange-700';\n      default:\n        return 'bg-gray-100 text-gray-700';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Error Message */}\n      {error && (\n        <div className=\"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4\">\n          <div className=\"flex items-center gap-2 text-yellow-800\">\n            <XCircle size={20} />\n            <span className=\"font-medium\">{error}</span>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Training Dashboard</h1>\n            <p className=\"text-gray-600 mt-1\">\n              Manage datasets and train AI models\n            </p>\n          </div>\n          {/* WebSocket Connection Status */}\n          <div className=\"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-full border border-gray-200\">\n            {isConnected ? (\n              <>\n                <Wifi size={16} className=\"text-green-600 animate-pulse\" />\n                <span className=\"text-xs font-medium text-green-600\">Live Updates</span>\n              </>\n            ) : (\n              <>\n                <WifiOff size={16} className=\"text-gray-400\" />\n                <span className=\"text-xs font-medium text-gray-500\">Reconnecting...</span>\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"flex gap-3\">\n          <button className=\"flex items-center gap-2 px-4 py-2 bg-white border-2 border-gray-200 rounded-lg hover:border-[#059211] transition-all\">\n            <Upload size={20} />\n            Upload Dataset\n          </button>\n          <button\n            onClick={() => setIsCreateModalOpen(true)}\n            className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#059211] to-[#047a0e] text-white rounded-lg hover:shadow-lg transition-all\"\n          >\n            <Plus size={20} />\n            Create Dataset\n          </button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-xl p-4 shadow-md border-2 border-gray-100\">\n          <div className=\"text-2xl font-bold text-gray-900\">\n            {datasets.length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Total Datasets</div>\n        </div>\n        <div className=\"bg-white rounded-xl p-4 shadow-md border-2 border-gray-100\">\n          <div className=\"text-2xl font-bold text-gray-900\">\n            {jobs.filter((j) => j.status === 'training').length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Training Now</div>\n        </div>\n        <div className=\"bg-white rounded-xl p-4 shadow-md border-2 border-gray-100\">\n          <div className=\"text-2xl font-bold text-gray-900\">\n            {jobs.filter((j) => j.status === 'completed').length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Completed Jobs</div>\n        </div>\n        <div className=\"bg-white rounded-xl p-4 shadow-md border-2 border-gray-100\">\n          <div className=\"text-2xl font-bold text-gray-900\">\n            {datasets.reduce((sum, d) => sum + d.examples, 0).toLocaleString()}\n          </div>\n          <div className=\"text-sm text-gray-600\">Total Examples</div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex gap-2 border-b border-gray-200\">\n        <button\n          onClick={() => setActiveTab('datasets')}\n          className={`px-6 py-3 font-medium transition-all border-b-2 ${\n            activeTab === 'datasets'\n              ? 'text-[#059211] border-[#059211]'\n              : 'text-gray-600 border-transparent hover:text-gray-900'\n          }`}\n        >\n          <div className=\"flex items-center gap-2\">\n            <Database size={20} />\n            Datasets ({datasets.length})\n          </div>\n        </button>\n        <button\n          onClick={() => setActiveTab('jobs')}\n          className={`px-6 py-3 font-medium transition-all border-b-2 ${\n            activeTab === 'jobs'\n              ? 'text-[#059211] border-[#059211]'\n              : 'text-gray-600 border-transparent hover:text-gray-900'\n          }`}\n        >\n          <div className=\"flex items-center gap-2\">\n            <TrendingUp size={20} />\n            Training Jobs ({jobs.length})\n          </div>\n        </button>\n      </div>\n\n      {/* Datasets Tab */}\n      {activeTab === 'datasets' && (\n        <div className=\"space-y-4\">\n          {datasets.map((dataset) => (\n            <div\n              key={dataset.id}\n              className=\"bg-white rounded-xl p-6 shadow-md border-2 border-gray-100 hover:border-[#059211] transition-all\"\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h3 className=\"text-lg font-bold text-gray-900\">\n                      {dataset.name}\n                    </h3>\n                    <span\n                      className={`px-2 py-1 rounded-lg text-xs font-medium ${getTypeColor(\n                        dataset.type\n                      )}`}\n                    >\n                      {dataset.type.toUpperCase()}\n                    </span>\n                    <span\n                      className={`px-2 py-1 rounded-lg text-xs font-medium flex items-center gap-1 ${getStatusColor(\n                        dataset.status\n                      )}`}\n                    >\n                      {getStatusIcon(dataset.status)}\n                      {dataset.status}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n                    <span>Module: {dataset.module}</span>\n                    <span>•</span>\n                    <span>{dataset.examples.toLocaleString()} examples</span>\n                    <span>•</span>\n                    <span>Created: {dataset.created}</span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n                    <Eye size={18} className=\"text-gray-600\" />\n                  </button>\n                  <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n                    <Download size={18} className=\"text-gray-600\" />\n                  </button>\n                  <button \n                    onClick={() => handleDeleteDataset(dataset.id)}\n                    className=\"p-2 hover:bg-red-50 rounded-lg transition-colors\"\n                  >\n                    <Trash2 size={18} className=\"text-red-600\" />\n                  </button>\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-3 mt-4 pt-4 border-t border-gray-100\">\n                <Link\n                  href={`/admin/training/datasets/${dataset.id}`}\n                  className=\"flex-1 px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-sm font-medium text-center\"\n                >\n                  View Examples\n                </Link>\n                <button \n                  onClick={() => handlePushToLabelStudio(dataset.id)}\n                  className=\"px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors text-sm font-medium flex items-center gap-2\"\n                  title=\"Push to Label Studio for annotation\"\n                >\n                  <Upload size={16} />\n                  Push to LS\n                </button>\n                <button \n                  onClick={() => handlePullFromLabelStudio(dataset.id)}\n                  className=\"px-4 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg transition-colors text-sm font-medium flex items-center gap-2\"\n                  title=\"Pull annotations from Label Studio\"\n                >\n                  <RefreshCw size={16} />\n                  Pull from LS\n                </button>\n                <button className=\"flex-1 px-4 py-2 bg-gradient-to-r from-[#059211] to-[#047a0e] text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium\">\n                  Start Training\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Training Jobs Tab */}\n      {activeTab === 'jobs' && (\n        <div className=\"space-y-4\">\n          {jobs.map((job) => (\n            <div\n              key={job.id}\n              className=\"bg-white rounded-xl p-6 shadow-md border-2 border-gray-100 hover:border-[#059211] transition-all\"\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h3 className=\"text-lg font-bold text-gray-900\">\n                      {job.name}\n                    </h3>\n                    <span\n                      className={`px-2 py-1 rounded-lg text-xs font-medium ${getTypeColor(\n                        job.type\n                      )}`}\n                    >\n                      {job.type.toUpperCase()}\n                    </span>\n                    <span\n                      className={`px-2 py-1 rounded-lg text-xs font-medium flex items-center gap-1 ${getStatusColor(\n                        job.status\n                      )}`}\n                    >\n                      {getStatusIcon(job.status)}\n                      {job.status}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n                    <span>Dataset: {job.dataset}</span>\n                    {job.startTime && (\n                      <>\n                        <span>•</span>\n                        <span>Started: {job.startTime}</span>\n                      </>\n                    )}\n                    {job.duration && (\n                      <>\n                        <span>•</span>\n                        <span>Duration: {job.duration}</span>\n                      </>\n                    )}\n                  </div>\n                </div>\n                {job.status === 'training' && (\n                  <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n                    <Pause size={18} className=\"text-gray-600\" />\n                  </button>\n                )}\n              </div>\n\n              {/* Progress Bar */}\n              {job.status !== 'queued' && (\n                <div className=\"mb-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm font-medium text-gray-700\">\n                      Progress: {Math.round(job.progress * 100)}%\n                      {job.epoch && job.totalEpochs && (\n                        <span className=\"text-gray-500 ml-2\">\n                          (Epoch {job.epoch}/{job.totalEpochs})\n                        </span>\n                      )}\n                    </span>\n                    {job.accuracy && (\n                      <span className=\"text-sm font-medium text-green-600\">\n                        Accuracy: {(job.accuracy * 100).toFixed(1)}%\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"h-3 bg-gray-200 rounded-full overflow-hidden\">\n                    <div\n                      className={`h-full transition-all ${\n                        job.status === 'completed'\n                          ? 'bg-gradient-to-r from-green-500 to-emerald-500'\n                          : job.status === 'failed'\n                          ? 'bg-gradient-to-r from-red-500 to-rose-500'\n                          : 'bg-gradient-to-r from-[#059211] to-[#047a0e]'\n                      }`}\n                      style={{ width: `${job.progress * 100}%` }}\n                    />\n                  </div>\n                </div>\n              )}\n\n              {/* Metrics */}\n              {(job.accuracy !== undefined || job.loss !== undefined) && (\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  {job.accuracy !== undefined && (\n                    <div className=\"bg-green-50 rounded-lg p-3\">\n                      <div className=\"text-xs text-green-600 mb-1\">\n                        Accuracy\n                      </div>\n                      <div className=\"text-2xl font-bold text-green-700\">\n                        {(job.accuracy * 100).toFixed(1)}%\n                      </div>\n                    </div>\n                  )}\n                  {job.loss !== undefined && (\n                    <div className=\"bg-blue-50 rounded-lg p-3\">\n                      <div className=\"text-xs text-blue-600 mb-1\">Loss</div>\n                      <div className=\"text-2xl font-bold text-blue-700\">\n                        {job.loss.toFixed(3)}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex gap-3 pt-4 border-t border-gray-100\">\n                <Link\n                  href={`/admin/training/jobs/${job.id}`}\n                  className=\"flex-1 px-4 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-sm font-medium text-center\"\n                >\n                  View Details\n                </Link>\n                {job.status === 'completed' && (\n                  <button className=\"flex-1 px-4 py-2 bg-gradient-to-r from-[#059211] to-[#047a0e] text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium\">\n                    Deploy Model\n                  </button>\n                )}\n                {job.status === 'failed' && (\n                  <button className=\"flex-1 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium\">\n                    Retry Training\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Create Dataset Modal */}\n      <CreateDatasetModal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n        onSubmit={handleCreateDataset}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}