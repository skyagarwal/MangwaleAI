{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/api/vision/cameras/stats/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nconst IMAGE_AI_URL = process.env.IMAGE_AI_INTERNAL_URL || 'http://localhost:3000';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const storeId = searchParams.get('storeId');\n\n    const url = `${IMAGE_AI_URL}/cameras/stats${storeId ? `?storeId=${storeId}` : ''}`;\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      return NextResponse.json(\n        { success: false, message: `Image AI service error: ${response.statusText}` },\n        { status: response.status }\n      );\n    }\n\n    const data = await response.json();\n    return NextResponse.json(data);\n\n  } catch (error) {\n    console.error('Camera stats error:', error);\n    \n    return NextResponse.json(\n      { \n        success: false, \n        message: error instanceof Error ? error.message : 'Internal server error' \n      },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,qBAAqB,IAAI;AAEnD,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,UAAU,aAAa,GAAG,CAAC;QAEjC,MAAM,MAAM,GAAG,aAAa,cAAc,EAAE,UAAU,CAAC,SAAS,EAAE,SAAS,GAAG,IAAI;QAElF,MAAM,WAAW,MAAM,MAAM;QAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS,CAAC,wBAAwB,EAAE,SAAS,UAAU,EAAE;YAAC,GAC5E;gBAAE,QAAQ,SAAS,MAAM;YAAC;QAE9B;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,gJAAY,CAAC,IAAI,CAAC;IAE3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QAErC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACpD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}