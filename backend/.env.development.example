# MangwaleAI Development Environment Variables
# Copy this to .env.local and update values as needed

# ===========================================
# Database
# ===========================================
DATABASE_URL=postgresql://mangwale_config:config_secure_pass_2024@localhost:5432/headless_mangwale?schema=public

# ===========================================
# Redis
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6381
REDIS_DB=1

# ===========================================
# AI Services
# ===========================================
NLU_ENDPOINT=http://localhost:7010
VLLM_URL=http://localhost:8002
VLLM_MODEL=Qwen/Qwen2.5-7B-Instruct-AWQ
NLU_AI_ENABLED=true
LLM_MODE=hybrid
DEFAULT_LLM_PROVIDER=vllm

# Cloud AI (optional fallback)
GROQ_API_KEY=
OPENROUTER_API_KEY=
HUGGINGFACE_API_KEY=

# ===========================================
# PHP Backend (if needed)
# ===========================================
PHP_API_BASE_URL=http://localhost:8000

# ===========================================
# WhatsApp (Production only)
# ===========================================
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=

# ===========================================
# Session Config
# ===========================================
SESSION_TTL=86400
OTP_TTL=600
OTP_LENGTH=6

# ===========================================
# Feature Flags - Architecture Control
# ===========================================
# Enable modern auth flow engine (replaces legacy ConversationService auth)
USE_AUTH_FLOW_ENGINE=true
# Enable modern message gateway (Phase 1 refactor)
USE_MESSAGE_GATEWAY=true
# Enable intent-aware flow routing (Phase 3)
USE_INTENT_AWARE_FLOWS=true
# Enable flow interruption on cancel/help intents
USE_FLOW_INTERRUPTION=true
# Enable flow state suspension for context switching
USE_FLOW_SUSPENSION=true
# Enable Prometheus metrics collection
USE_PROMETHEUS_METRICS=true

# Gradual Rollout Flags (percentage based, 0-100)
# Use these for canary deployments
ROLLOUT_MESSAGE_GATEWAY=100
ROLLOUT_INTENT_FLOWS=100

# ===========================================
# Development
# ===========================================
NODE_ENV=development
PORT=3200
LOG_LEVEL=debug
