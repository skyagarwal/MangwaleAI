[0;34m================================[0m
[0;34mCOMPREHENSIVE SYSTEM DIAGNOSTIC[0m
[0;34m================================[0m

[0;34m[1] BACKEND HEALTH CHECK[0m
---
[0;32m‚úÖ Backend running (PID: 1203327)[0m
[1;33m‚ö†Ô∏è  Backend health endpoint returned HTTP 404[0m

[0;34m[2] FLOWS CONFIGURATION[0m
---
[0;32m‚úÖ Flows endpoint accessible[0m
{"statusCode":404,"message":"Flow not found"}

Checking database connectivity...
[0;32m‚úÖ DATABASE_URL configured[0m

[0;34m[3] NLU STACK VERIFICATION[0m
---
Testing Intent Classification Service...
[0;32m‚úÖ Intent classification endpoint responding[0m
{
    "intent": "order_food",
    "confidence": 0.95,
    "entities": {},
    "tone": "neutral",
    "sentiment": "neutral",
    "urgency": 0.5,
    "language": "en",
    "provider": "heuristic",
    "processingTimeMs": 5
}

Testing Entity Extraction...
[0;32m‚úÖ Entity extraction endpoint responding[0m
{
    "message": "Cannot POST /api/nlu/extract-entities",
    "error": "Not Found",
    "statusCode": 404
}

Testing AI Food Detection...
[0;32m‚úÖ Food detection endpoint responding[0m
{
    "message": "Cannot POST /api/nlu/detect-food",
    "error": "Not Found",
    "statusCode": 404
}

[0;34m[4] LLM / vLLM VERIFICATION[0m
---
[1;33m‚ö†Ô∏è  vLLM not responding on port 8000[0m

Testing LLM Completion...
[0;32m‚úÖ LLM completion endpoint responding[0m
{
    "message": "Cannot POST /api/llm/complete",
    "error": "Not Found",
    "statusCode": 404
}

[0;34m[5] WEBSOCKET VERIFICATION[0m
---
[1;33m‚ö†Ô∏è  WebSocket upgrade status unclear[0m
Response:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0

Checking WebSocket endpoint registration...
/home/ubuntu/Devs/MangwaleAI/backend/src/instagram/controllers/instagram-webhook.controller.ts:        { title: 'Browse menu', payload: 'browse_menu' },
/home/ubuntu/Devs/MangwaleAI/backend/src/psychology/services/persuasion-engine.service.ts:  sessionStage: 'browse' | 'consider' | 'decide' | 'checkout' | 'post_purchase';
/home/ubuntu/Devs/MangwaleAI/backend/src/psychology/services/psychology-orchestrator.service.ts:  sessionStage: 'browse' | 'consider' | 'decide' | 'checkout' | 'post_purchase';
/home/ubuntu/Devs/MangwaleAI/backend/src/psychology/services/psychology-orchestrator.service.ts:        timeSpentBrowsing: 5, // Would come from session tracking
/home/ubuntu/Devs/MangwaleAI/backend/src/psychology/services/psychology-orchestrator.service.ts:        readReviews: true,
[0;32m‚úÖ WebSocket handlers found in backend[0m

[0;34m[6] FRONTEND VERIFICATION[0m
---
[0;32m‚úÖ Frontend container running: Up 44 minutes[0m
[0;32m‚úÖ Frontend HTTP 200 (accessible on port 3005)[0m

Checking frontend-to-backend WebSocket capability...
[0;34m  Frontend: http://localhost:3005[0m
[0;34m  Backend WS: ws://localhost:3000/ws[0m
[1;33m  (Manual test required in browser)[0m

[0;34m[7] SEARCH STACK VERIFICATION[0m
---
Search Infrastructure Overview:
[0;34m  - API URL: https://opensearch.mangwale.ai[0m
[0;34m  - Architecture: Separate from MangwaleAI core[0m

[0;32m‚úÖ Search API v3 responding (HTTP 200)[0m

Testing V3 Hybrid Search Endpoint...
