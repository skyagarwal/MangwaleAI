# Root .env example (used by docker compose files)
# Copy to .env and fill in as needed.

# =============================
# Search stack routing
# =============================
# Use public Search API (recommended when using the public stack/Traefik):
# SEARCH_API_URL=https://opensearch.mangwale.ai
# Or use internal docker DNS when running search-api on search_search-network:
# SEARCH_API_URL=http://search-api:3100
SEARCH_API_URL=http://search-api:3100

OPENSEARCH_URL=http://search-opensearch:9200
EMBEDDING_SERVICE_URL=http://search-embedding-service:3101
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=admin

# =============================
# PHP Backend
# =============================
PHP_API_BASE_URL=https://new.mangwale.com
PHP_BACKEND_URL=https://new.mangwale.com
PHP_API_TIMEOUT=30000

# =============================
# NLU / NER / LLM (Mercury GPU Server)
# =============================
NLU_AI_ENABLED=true
# IndicBERT-v3 (Gemma3-based, 39 intents) on Mercury
NLU_PRIMARY_ENDPOINT=http://192.168.0.151:7012
NER_SERVICE_URL=http://192.168.0.151:7011
TRAINING_SERVER_URL=http://192.168.0.151:8082
NLU_CONFIDENCE_THRESHOLD=0.65

VLLM_URL=http://localhost:8002
VLLM_CHAT_ENDPOINT=http://localhost:8002/v1/chat/completions
VLLM_MODEL=Qwen/Qwen2.5-7B-Instruct-AWQ
LLM_MODE=hybrid
DEFAULT_LLM_PROVIDER=vllm
DEFAULT_CLOUD_PROVIDER=auto

# Optional cloud LLM fallbacks
GROQ_API_KEY=
OPENROUTER_API_KEY=
HUGGINGFACE_API_KEY=

# =============================
# Voice services (Mercury GPU Server)
# =============================
ASR_SERVICE_URL=http://192.168.0.151:7001
TTS_SERVICE_URL=http://192.168.0.151:7002
VOICE_ORCHESTRATOR_URL=http://192.168.0.151:7000

# =============================
# MySQL (Laravel/PHP backend)
# =============================
MYSQL_HOST=<PHP_SERVER_IP>
MYSQL_PORT=3306
MYSQL_DATABASE=mangwale_db
MYSQL_USER=
MYSQL_PASSWORD=

# =============================
# PostgreSQL (NestJS backend)
# =============================
DATABASE_URL=postgresql://mangwale_config:<PASSWORD>@localhost:5432/headless_mangwale?schema=public

# =============================
# Redis
# =============================
REDIS_HOST=localhost
REDIS_PORT=6381
REDIS_PASSWORD=
REDIS_DB=1

# =============================
# App secrets (leave blank in repo)
# =============================
JWT_SECRET=
SESSION_SECRET=

WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=
WHATSAPP_APP_SECRET=
WHATSAPP_API_VERSION=v24.0

FRAPPE_BASE_URL=
FRAPPE_API_KEY=
FRAPPE_API_SECRET=
